# Microsoft Imaging Server for DICOM 中的角色

医学影像服务器使用基于角色的访问控制系统。访问控制模型基于以下概念：

- **数据操作**是指可以在影像服务器数据上执行的特定允许或禁止的操作。示例包括 `read`、`write` 和 `delete`。
- **角色定义**或简称为**角色**，是允许执行的操作的命名集合。它们适用于一组**范围**。
- **范围**定义角色定义适用的数据子集。目前，仅支持根范围 (`/`)，这意味着角色定义适用于影像服务器中的所有数据。
- **角色分配**将角色定义授予身份（用户、组或服务主体）。

可以作为角色定义一部分的数据操作集是：

- `*` 允许所有数据操作
- `read` 是读取和搜索资源所必需的。
- `write` 是创建或更新资源所必需的。
- `delete` 是删除资源所必需的。

角色在 [roles.json](../../src/Microsoft.Health.Dicom.Web/roles.json) 文件中定义。管理员可以根据需要自定义它们。角色定义如下所示：

``` json
{
    "name": "globalWriter",
    "dataActions": [
        "*"
    ],
    "notDataActions": [
        "delete"
    ],
    "scopes": [
        "/"
    ]
}
```

此角色允许除 `delete` 之外的所有数据操作。请注意，如果用户属于此角色和另一个允许 `delete` 的角色，则允许他们执行该操作。

角色分配在身份提供者中完成。在 Azure Active Directory 中，您在影像服务器的应用注册上定义应用角色。应用角色名称必须对应于 `roles.json` 中定义的角色名称。然后，您将身份（用户、组或服务主体）分配给应用角色。
